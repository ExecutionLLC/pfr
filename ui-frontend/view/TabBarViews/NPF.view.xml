<mvc:View
    controllerName="personal.account.controller.TabBarControllers.NPF"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:form="sap.ui.layout.form"
    xmlns:core="sap.ui.core"
    xmlns:layout="sap.ui.layout"
    displayBlock="true">
    <VBox class="sapUiSmallMargin">
        <form:Form id="FormDisplay480_12120Dual"
                editable="false">
            <form:layout>
                <form:ResponsiveGridLayout
                        labelSpanXL="4"
                        labelSpanL="9"
                        labelSpanM="12"
                        labelSpanS="12"
                        adjustLabelSpan="false"
                        emptySpanXL="0"
                        emptySpanL="0"
                        emptySpanM="0"
                        emptySpanS="0"
                        columnsXL="2"
                        columnsL="3"
                        columnsM="2"
                        singleContainerFullSize="false" />
            </form:layout>
            <form:formContainers>
                <form:FormContainer>
                    <form:formElements>
                        <form:FormElement label="Текущий НПФ">
                            <form:fields>
                                <Text text="Флокс"/>
                            </form:fields>
                        </form:FormElement>
                        <form:FormElement label="Новый НПФ">
                            <form:fields>
                                <Text text="{techModel>/changeNPF/newNPF}"/>
                            </form:fields>
                        </form:FormElement>
                    </form:formElements>
                </form:FormContainer>
                <form:FormContainer>
                    <form:formElements>
                        <form:FormElement label="Рейтинг надежности">
                            <form:fields>
                                <Text text="А++" />
                            </form:fields>
                        </form:FormElement>
                        <form:FormElement label="Возможная дата смены НПФ">
                            <form:fields>
                                <Text text="" />
                            </form:fields>
                        </form:FormElement>
                    </form:formElements>
                </form:FormContainer>
                <form:FormContainer>
                    <form:formElements>
                        <form:FormElement>
                            <form:fields>
                                <ToggleButton
                                    pressed="{techModel>/tech/isButtonShowNPFApply}"
                                    text="Выбрать НПФ">
                                    <layoutData>
                                        <layout:GridData
                                                span="L6 M3 S7"/>
                                    </layoutData>
                                </ToggleButton>
                            </form:fields>
                        </form:FormElement>
                    </form:formElements>
                </form:FormContainer>
            </form:formContainers>
        </form:Form>
    </VBox>
    <!--скрытое окно списка НПФ-->
    <Table
        visible="{techModel>/tech/isButtonShowNPFApply}"
        items="{
        path:'NPF>/Rows'}">
        <columns>
            <Column
                hAlign="Center">
                <Text
                    text="НПФ"/>
            </Column>
            <Column
                hAlign="Center">
                <Text
                    text="Рейтинг надежности"/>
            </Column>
            <Column
                hAlign="Center">
                <Text
                    text="Перейти на сайт"/>
            </Column>
        </columns>
        <items>
            <ColumnListItem
                type="Active"
                press="onColumnListItemPress">
                <cells>
                    <Text
                        text="{NPF>NPF}"/>
                    <Text
                        text="{NPF>Rating}"/>
                    <core:Icon
                        src="sap-icon://hello-world"
                        press="onIconPress"
                        size="2rem"/>
                </cells>
            </ColumnListItem>
        </items>
    </Table>
    <!--конец-->

    <!--доп контейнер подтверждения смены НПФ-->
    <layout:Grid>
        <ObjectStatus
            visible="{techModel>/changeNPF/isWarningTextVisible}"
            text="{techModel>/changeNPF/warningText}"
            state="{techModel>/changeNPF/state}">
            <layoutData>
                <layout:GridData
                    span="L6 M3 S7"
                    indent="L1 M8 S8"/>
            </layoutData>
        </ObjectStatus>
        <Button
            width="100%"
            press="onChangeNPF"
            text="{techModel>/changeNPF/buttonText}"
            visible="{techModel>/tech/isCustomListSelected}">
            <layoutData>
                <layout:GridData
                    span="L2 M3 S7"
                    indent="L1 M8 S8"/>
            </layoutData>
        </Button>
    </layout:Grid>
    <!--конец-->
    <Label
        text="История смены НПФ"
        class="sapUiLargeMarginBegin"/>
    <Table
        items="{
            path:'tableModelNPF>/Rows'
        }">
        <columns>
            <Column
                hAlign="Center">
                <Text
                    text="Дата операции"/>
            </Column>
            <Column
                hAlign="Center">
                <Text
                    text="НПФ"/>
            </Column>
            <Column
                hAlign="Center"/>
        </columns>
        <items>
            <ColumnListItem>
                <cells>
                    <Text
                        text="{tableModelNPF>Data}"/>
                    <Text
                        text="{tableModelNPF>NPF}"/>
                    <core:Icon
                        src="sap-icon://initiative"
                        press="onIconPress"
                        size="2rem"/>
                </cells>
            </ColumnListItem>
        </items>
    </Table>
</mvc:View>